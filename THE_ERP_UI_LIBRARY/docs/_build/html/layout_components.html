<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Layout Components &#8212; SML Dissertation Project 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=f2a433a1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dashboard Components" href="dashboard_components.html" />
    <link rel="prev" title="Design Tokens" href="tokens.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="layout-components">
<h1>Layout Components<a class="headerlink" href="#layout-components" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>Layout components form the structural foundation of the ERP UI Library. These components handle the overall application structure, including headers, footers, navigation systems, and dialog boxes. They provide a consistent framework for organizing content and maintaining a coherent user experience.</p>
<p>Unlike object-oriented UI frameworks, the layout components in this library use functional programming principles to maintain clean separation of concerns, avoid mutable state, and enable easy composition.</p>
</section>
<section id="header-component">
<h2>Header Component<a class="headerlink" href="#header-component" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Header</span></code> component creates a consistent application header with support for branding, navigation, and user information.</p>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Header: Displays the company logo, name, and username at the top of the UI. *)</span>
<span class="kr">structure</span> <span class="nn">Header</span> <span class="p">=</span> <span class="kr">struct</span>
  <span class="kr">fun</span> <span class="nf">create</span> <span class="p">{</span><span class="n">imagePath</span> <span class="p">:</span> <span class="n">string</span> <span class="n">option</span><span class="p">,</span> <span class="n">text</span> <span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">username</span> <span class="p">:</span> <span class="n">string</span> <span class="n">option</span><span class="p">}</span> <span class="p">=</span>
    <span class="kr">let</span>
      <span class="kr">open</span> <span class="nn">Gtk</span>
      <span class="kr">val</span> <span class="nv">containerBox</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">VERTICAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="nv">headerBox</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setSizeRequest</span> <span class="n">headerBox</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>

      <span class="cm">(* Add logo *)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="kr">case</span> <span class="n">imagePath</span> <span class="kr">of</span>
          <span class="n">SOME</span> <span class="n">path</span> <span class="p">=&gt;</span>
            <span class="kr">let</span>
              <span class="kr">val</span> <span class="nv">logoBox</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
              <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">headerBox</span> <span class="p">(</span><span class="n">logoBox</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

              <span class="kr">val</span> <span class="nv">aspectFrame</span> <span class="p">=</span> <span class="nn">AspectFrame</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">NONE</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">false</span><span class="p">)</span>
              <span class="kr">val</span> <span class="nv">image</span> <span class="p">=</span> <span class="nn">ImageUtils</span><span class="p">.</span><span class="n">scaledImageFromFile</span> <span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="mi">36</span><span class="p">))</span>
              <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Container</span><span class="p">.</span><span class="n">add</span> <span class="n">aspectFrame</span> <span class="n">image</span>
              <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">logoBox</span> <span class="p">(</span><span class="n">aspectFrame</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="kr">in</span>
              <span class="p">()</span>
            <span class="kr">end</span>
        <span class="n">|</span> <span class="n">NONE</span> <span class="p">=&gt;</span> <span class="p">()</span>


      <span class="kr">val</span> <span class="nv">spacer1</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">headerBox</span> <span class="p">(</span><span class="n">spacer1</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="kr">val</span> <span class="nv">label</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="n">text</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setName</span> <span class="n">label</span> <span class="s2">&quot;company_name&quot;</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">FontSize</span><span class="p">.</span><span class="n">h4</span> <span class="n">label</span> <span class="n">text</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">headerBox</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

      <span class="kr">val</span> <span class="nv">spacer2</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">headerBox</span> <span class="p">(</span><span class="n">spacer2</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="cm">(* Adds username if provided *)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="kr">case</span> <span class="n">username</span> <span class="kr">of</span>
        <span class="n">SOME</span> <span class="n">name</span> <span class="p">=&gt;</span>
          <span class="kr">let</span>
            <span class="kr">val</span> <span class="nv">userLabel</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="n">name</span><span class="p">)</span>
            <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setName</span> <span class="n">userLabel</span> <span class="s2">&quot;username&quot;</span>
            <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">FontSize</span><span class="p">.</span><span class="n">h4</span> <span class="n">userLabel</span> <span class="n">name</span>
            <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packEnd</span> <span class="n">headerBox</span> <span class="p">(</span><span class="n">userLabel</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
          <span class="kr">in</span>
            <span class="p">()</span>
          <span class="kr">end</span>
      <span class="n">|</span> <span class="n">NONE</span> <span class="p">=&gt;</span> <span class="p">()</span>

      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">containerBox</span> <span class="p">(</span><span class="n">headerBox</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

      <span class="kr">val</span> <span class="nv">separator</span> <span class="p">=</span> <span class="nn">Separator</span><span class="p">.</span><span class="n">new</span> <span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">containerBox</span> <span class="p">(</span><span class="n">separator</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="kr">in</span>
      <span class="n">containerBox</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Create a basic header with company name and user *)</span>
<span class="kr">val</span> <span class="nv">headerWidget</span> <span class="p">=</span> <span class="nn">Header</span><span class="p">.</span><span class="n">create</span> <span class="p">{</span>
    <span class="n">imagePath</span> <span class="p">=</span> <span class="n">SOME</span> <span class="s2">&quot;resources/images/logo.png&quot;</span><span class="p">,</span>
    <span class="n">text</span> <span class="p">=</span> <span class="nn">Inputs</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
    <span class="n">username</span> <span class="p">=</span> <span class="n">username</span>
<span class="p">}</span>

<span class="cm">(* Create a minimal header with just company name *)</span>
<span class="kr">val</span> <span class="nv">minimalHeader</span> <span class="p">=</span> <span class="nn">Header</span><span class="p">.</span><span class="n">create</span> <span class="p">{</span>
  <span class="n">imagePath</span> <span class="p">=</span> <span class="n">NONE</span><span class="p">,</span>
  <span class="n">text</span> <span class="p">=</span> <span class="nn">Inputs</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
  <span class="n">username</span> <span class="p">=</span> <span class="n">NONE</span>
<span class="p">}</span>

<span class="cm">(* Add the header to the main box *)</span>
<span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">mainBox</span> <span class="p">(</span><span class="n">headerWidget</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Key Features:</p>
<ul class="simple">
<li><p><strong>Logo Integration</strong>: Optional company logo display</p></li>
<li><p><strong>Company Name</strong>: Prominently displays the application or company name</p></li>
<li><p><strong>User Information</strong>: Optional username display</p></li>
<li><p><strong>Styling</strong>: Consistent styling using the design token system</p></li>
<li><p><strong>Separation</strong>: Visual separator at bottom for clear content distinction</p></li>
</ul>
<p>Implementation Highlights:</p>
<ul class="simple">
<li><p><strong>Pure Function</strong>: The <code class="docutils literal notranslate"><span class="pre">create</span></code> function takes configuration parameters and returns a new widget without modifying external state</p></li>
<li><p><strong>Pattern Matching</strong>: Uses SML’s pattern matching to handle optional fields like imagePath and username</p></li>
<li><p><strong>Immutability</strong>: Treats all UI elements as immutable values, reflecting functional programming principles</p></li>
</ul>
</section>
<section id="footer-component">
<h2>Footer Component<a class="headerlink" href="#footer-component" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Footer</span></code> component provides a consistent application footer with copyright information, links, and auxiliary content.</p>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Footer: Displays copyright and version information at the bottom of the UI. *)</span>
<span class="kr">structure</span> <span class="nn">Footer</span> <span class="p">=</span> <span class="kr">struct</span>
  <span class="kr">fun</span> <span class="nf">create</span> <span class="p">{</span><span class="n">copyright</span><span class="p">,</span> <span class="n">version</span><span class="p">}</span> <span class="p">=</span>
    <span class="kr">let</span>
      <span class="kr">open</span> <span class="nn">Gtk</span>
      <span class="kr">val</span> <span class="nv">containerBox</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">VERTICAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="kr">val</span> <span class="nv">separator</span> <span class="p">=</span> <span class="nn">Separator</span><span class="p">.</span><span class="n">new</span> <span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">containerBox</span> <span class="p">(</span><span class="n">separator</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="kr">val</span> <span class="nv">footerBox</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">VERTICAL</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

      <span class="kr">val</span> <span class="nv">copyrightLabel</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="n">copyright</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setName</span> <span class="n">copyrightLabel</span> <span class="s2">&quot;copyright_label&quot;</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">FontSize</span><span class="p">.</span><span class="n">h6</span> <span class="n">copyrightLabel</span> <span class="n">copyright</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">footerBox</span> <span class="p">(</span><span class="n">copyrightLabel</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="kr">val</span> <span class="nv">versionLabel</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="n">version</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setName</span> <span class="n">versionLabel</span> <span class="s2">&quot;version_label&quot;</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">FontSize</span><span class="p">.</span><span class="n">caption</span> <span class="n">versionLabel</span> <span class="n">version</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">footerBox</span> <span class="p">(</span><span class="n">versionLabel</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">containerBox</span> <span class="p">(</span><span class="n">footerBox</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="kr">in</span>
      <span class="n">containerBox</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Create a basic footer *)</span>
<span class="kr">val</span> <span class="nv">footerWidget</span> <span class="p">=</span> <span class="nn">Footer</span><span class="p">.</span><span class="n">create</span> <span class="p">{</span>
    <span class="n">copyright</span> <span class="p">=</span> <span class="s2">&quot;(C) 2024 ACME. All rights reserved.&quot;</span><span class="p">,</span>
    <span class="n">version</span> <span class="p">=</span> <span class="s2">&quot;Version 1.0.0&quot;</span>
  <span class="p">}</span>

<span class="cm">(* Add the footer to the main box *)</span>
<span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">mainBox</span> <span class="p">(</span><span class="n">footerWidget</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Key Features:</p>
<ul class="simple">
<li><p><strong>Copyright Information</strong>: Standard copyright text</p></li>
<li><p><strong>Styling</strong>: Consistent styling using the design token system (fontSize)</p></li>
</ul>
</section>
<section id="error-dialog">
<h2>Error Dialog<a class="headerlink" href="#error-dialog" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ErrorDialog</span></code> component provides a standardized way to display error messages to users.</p>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="kr">structure</span> <span class="nn">ErrorDialog</span> <span class="p">=</span> <span class="kr">struct</span>
  <span class="kr">open</span> <span class="nn">Gtk</span>

  <span class="kr">fun</span> <span class="nf">create</span> <span class="p">{</span><span class="n">title</span> <span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">message</span> <span class="p">:</span> <span class="n">string</span><span class="p">}</span> <span class="p">=</span>
    <span class="kr">let</span>
      <span class="kr">val</span> <span class="nv">dialog</span> <span class="p">=</span> <span class="nn">Dialog</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Window</span><span class="p">.</span><span class="n">setTitle</span> <span class="n">dialog</span> <span class="n">title</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Window</span><span class="p">.</span><span class="n">setDefaultSize</span> <span class="n">dialog</span> <span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
      <span class="kr">val</span> <span class="nv">contentArea</span> <span class="p">=</span> <span class="nn">Dialog</span><span class="p">.</span><span class="n">getContentArea</span> <span class="n">dialog</span>
      <span class="kr">val</span> <span class="nv">errorLabel</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="n">message</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">setLineWrap</span> <span class="n">errorLabel</span> <span class="n">true</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginStart</span> <span class="n">errorLabel</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginEnd</span> <span class="n">errorLabel</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginTop</span> <span class="n">errorLabel</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginBottom</span> <span class="n">errorLabel</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">contentArea</span> <span class="p">(</span><span class="n">errorLabel</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">_</span> <span class="p">=</span> <span class="nn">Dialog</span><span class="p">.</span><span class="n">addButton</span> <span class="n">dialog</span> <span class="p">(</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span> <span class="nn">LargeInt</span><span class="p">.</span><span class="n">fromInt</span> <span class="p">(</span><span class="nn">IntInf</span><span class="p">.</span><span class="n">toInt</span> <span class="nn">ResponseType</span><span class="p">.</span><span class="n">OK</span><span class="p">))</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">showAll</span> <span class="n">dialog</span>
      <span class="kr">val</span> <span class="p">_</span> <span class="p">=</span> <span class="nn">Dialog</span><span class="p">.</span><span class="n">run</span> <span class="n">dialog</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">destroy</span> <span class="n">dialog</span>
    <span class="kr">in</span> <span class="p">()</span> <span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Create and show an error dialog *)</span>
<span class="nn">ErrorDialog</span><span class="p">.</span><span class="n">create</span> <span class="p">{</span>
    <span class="n">title</span> <span class="p">=</span> <span class="s2">&quot;Login Error&quot;</span><span class="p">,</span>
    <span class="n">message</span> <span class="p">=</span> <span class="s2">&quot;Invalid username or password.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Key Features:</p>
<ul class="simple">
<li><p><strong>Consistent Error Presentation</strong>: Standardized visual design for all error messages</p></li>
<li><p><strong>Modal Interaction</strong>: Interrupts workflow appropriately for critical errors</p></li>
<li><p><strong>Customizable Content</strong>: Support for different error titles and descriptions</p></li>
</ul>
</section>
<section id="button-action-row">
<h2>Button Action Row<a class="headerlink" href="#button-action-row" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ButtonActionRow</span></code> provides layout utilities for consistent button placement, supporting both left-aligned and right-aligned button arrangements.</p>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(******************************************************************************</span>
<span class="cm"> * RightAlignedButtonRow: Arranges buttons in a row aligned to the right.</span>
<span class="cm"> *</span>
<span class="cm"> * Usage:</span>
<span class="cm"> *   val row = RightAlignedButtonRow.create [button1] or</span>
<span class="cm"> *   val row = RightAlignedButtonRow.create [button1, button2]</span>
<span class="cm"> ******************************************************************************)</span>
<span class="kr">structure</span> <span class="nn">RightAlignedButtonRow</span> <span class="p">=</span> <span class="kr">struct</span>
  <span class="kr">structure</span> <span class="nn">Gtk</span> <span class="p">=</span> <span class="n">Gtk</span>
  <span class="kr">open</span> <span class="nn">Gtk</span>

  <span class="kr">fun</span> <span class="nf">create</span> <span class="p">(</span><span class="n">buttons</span> <span class="p">:</span> <span class="nn">Gtk</span><span class="p">.</span><span class="nn">Button</span><span class="p">.</span><span class="n">t</span> <span class="n">list</span><span class="p">)</span> <span class="p">:</span> <span class="nn">Gtk</span><span class="p">.</span><span class="nn">Box</span><span class="p">.</span><span class="n">t</span> <span class="p">=</span>
    <span class="kr">let</span>
      <span class="kr">val</span> <span class="nv">box</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginTop</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginBottom</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">small</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginStart</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginEnd</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>

      <span class="kr">val</span> <span class="nv">spacer</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">box</span> <span class="p">(</span><span class="n">spacer</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">app</span> <span class="p">(</span><span class="kr">fn</span> <span class="n">w</span> <span class="p">=&gt;</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">box</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="n">buttons</span>
    <span class="kr">in</span>
      <span class="n">box</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(******************************************************************************</span>
<span class="cm"> * LeftAlignedButtonRow: Arranges buttons in a row aligned to the left.</span>
<span class="cm"> *</span>
<span class="cm"> * Usage:</span>
<span class="cm"> *   val row = LeftAlignedButtonRow.create [button1] or</span>
<span class="cm"> *   val row = LeftAlignedButtonRow.create [button1, button2]</span>
<span class="cm"> ******************************************************************************)</span>
<span class="kr">structure</span> <span class="nn">LeftAlignedButtonRow</span> <span class="p">=</span> <span class="kr">struct</span>
  <span class="kr">structure</span> <span class="nn">Gtk</span> <span class="p">=</span> <span class="n">Gtk</span>
  <span class="kr">open</span> <span class="nn">Gtk</span>

  <span class="kr">fun</span> <span class="nf">create</span> <span class="p">(</span><span class="n">buttons</span> <span class="p">:</span> <span class="nn">Gtk</span><span class="p">.</span><span class="nn">Button</span><span class="p">.</span><span class="n">t</span> <span class="n">list</span><span class="p">)</span> <span class="p">:</span> <span class="nn">Gtk</span><span class="p">.</span><span class="nn">Box</span><span class="p">.</span><span class="n">t</span> <span class="p">=</span>
    <span class="kr">let</span>
      <span class="kr">val</span> <span class="nv">box</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginTop</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginBottom</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">small</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginStart</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginEnd</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>

      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">app</span> <span class="p">(</span><span class="kr">fn</span> <span class="n">w</span> <span class="p">=&gt;</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">box</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="n">buttons</span>
    <span class="kr">in</span>
      <span class="n">box</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(******************************************************************************</span>
<span class="cm"> * CenterAlignedButtonRow: Arranges buttons in a row centered horizontally.</span>
<span class="cm"> *</span>
<span class="cm"> * Usage:</span>
<span class="cm"> *   val row = CenterAlignedButtonRow.create [button1] or</span>
<span class="cm"> *   val row = CenterAlignedButtonRow.create [button1, button2]</span>
<span class="cm"> ******************************************************************************)</span>
<span class="kr">structure</span> <span class="nn">CenterAlignedButtonRow</span> <span class="p">=</span> <span class="kr">struct</span>
  <span class="kr">structure</span> <span class="nn">Gtk</span> <span class="p">=</span> <span class="n">Gtk</span>
  <span class="kr">open</span> <span class="nn">Gtk</span>

  <span class="kr">fun</span> <span class="nf">create</span> <span class="p">(</span><span class="n">buttons</span> <span class="p">:</span> <span class="nn">Gtk</span><span class="p">.</span><span class="nn">Button</span><span class="p">.</span><span class="n">t</span> <span class="n">list</span><span class="p">)</span> <span class="p">:</span> <span class="nn">Gtk</span><span class="p">.</span><span class="nn">Box</span><span class="p">.</span><span class="n">t</span> <span class="p">=</span>
    <span class="kr">let</span>
      <span class="kr">val</span> <span class="nv">box</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginTop</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginBottom</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">small</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginStart</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginEnd</span> <span class="n">box</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">medium</span>

      <span class="kr">val</span> <span class="nv">leftSpacer</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
      <span class="kr">val</span> <span class="nv">rightSpacer</span> <span class="p">=</span> <span class="nn">Label</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="n">SOME</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">box</span> <span class="p">(</span><span class="n">leftSpacer</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">app</span> <span class="p">(</span><span class="kr">fn</span> <span class="n">w</span> <span class="p">=&gt;</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">box</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="n">buttons</span>
      <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">box</span> <span class="p">(</span><span class="n">rightSpacer</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="kr">in</span>
      <span class="n">box</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Usage examples *)</span>
<span class="cm">(* Create a row of action buttons *)</span>
<span class="kr">val</span> <span class="nv">saveBtn</span> <span class="p">=</span> <span class="nn">Button</span><span class="p">.</span><span class="n">newWithLabel</span> <span class="s2">&quot;Save&quot;</span>
<span class="kr">val</span> <span class="nv">cancelBtn</span> <span class="p">=</span> <span class="nn">Button</span><span class="p">.</span><span class="n">newWithLabel</span> <span class="s2">&quot;Cancel&quot;</span>

<span class="cm">(* Set size request for add button *)</span>
<span class="kr">val</span> <span class="p">_</span> <span class="p">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setSizeRequest</span> <span class="n">addBtn</span> <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">36</span><span class="p">)</span>

<span class="cm">(* Right-aligned buttons (common for action buttons) *)</span>
<span class="kr">val</span> <span class="nv">actionButtons</span> <span class="p">=</span> <span class="nn">RightAlignedButtonRow</span><span class="p">.</span><span class="n">create</span> <span class="p">[</span><span class="n">saveBtn</span><span class="p">,</span> <span class="n">cancelBtn</span><span class="p">]</span>

<span class="cm">(* Left-aligned buttons (common for navigation buttons) *)</span>
<span class="kr">val</span> <span class="nv">navButtons</span> <span class="p">=</span> <span class="nn">LeftAlignedButtonRow</span><span class="p">.</span><span class="n">create</span> <span class="p">[</span><span class="n">backBtn</span><span class="p">]</span>

<span class="cm">(* Add buttons to content box *)</span>
<span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">contentBox</span> <span class="p">(</span><span class="n">actionButtons</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Key Features:</p>
<ul class="simple">
<li><p><strong>Alignment Options</strong>: Support for both left and right alignment</p></li>
<li><p><strong>Consistent Spacing</strong>: Standardized spacing between buttons</p></li>
<li><p><strong>Order Preservation</strong>: Maintains the order of buttons as specified</p></li>
</ul>
</section>
<section id="application-state">
<h2>Application State<a class="headerlink" href="#application-state" title="Link to this heading">¶</a></h2>
<p>The AppState structure provides centralized state management for user authentication in a functional manner, following SML’s paradigms.</p>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="kr">structure</span> <span class="nn">AppState</span> <span class="p">=</span> <span class="kr">struct</span>
  <span class="cm">(* Current logged-in username (NONE if not logged in) *)</span>
  <span class="kr">val</span> <span class="nv">currentUser</span> <span class="p">=</span> <span class="n">ref</span> <span class="p">(</span><span class="n">NONE</span> <span class="p">:</span> <span class="n">string</span> <span class="n">option</span><span class="p">)</span>

  <span class="cm">(* Sets the current user after successful login *)</span>
  <span class="kr">fun</span> <span class="nf">setCurrentUser</span> <span class="n">username</span> <span class="p">=</span>
    <span class="n">currentUser</span> <span class="n">:=</span> <span class="n">SOME</span> <span class="n">username</span>

  <span class="cm">(* Clears the current user on logout *)</span>
  <span class="kr">fun</span> <span class="nf">clearCurrentUser</span> <span class="p">()</span> <span class="p">=</span>
    <span class="n">currentUser</span> <span class="n">:=</span> <span class="n">NONE</span>

  <span class="cm">(* Gets the current user *)</span>
  <span class="kr">fun</span> <span class="nf">getCurrentUser</span> <span class="p">()</span> <span class="p">=</span>
    <span class="n">!currentUser</span>

  <span class="cm">(* Checks if a user is logged in *)</span>
  <span class="kr">fun</span> <span class="nf">isLoggedIn</span> <span class="p">()</span> <span class="p">=</span>
    <span class="kr">case</span> <span class="n">!currentUser</span> <span class="kr">of</span>
      <span class="n">SOME</span> <span class="p">_</span> <span class="p">=&gt;</span> <span class="n">true</span>
    <span class="n">|</span> <span class="n">NONE</span> <span class="p">=&gt;</span> <span class="n">false</span>
<span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Usage examples *)</span>
<span class="cm">(* Check if a user is currently logged in *)</span>
<span class="kr">val</span> <span class="nv">isUserLoggedIn</span> <span class="p">=</span> <span class="nn">AppState</span><span class="p">.</span><span class="n">isLoggedIn</span> <span class="p">()</span>

<span class="cm">(* Log a user in *)</span>
<span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">AppState</span><span class="p">.</span><span class="n">setCurrentUser</span> <span class="s2">&quot;admin&quot;</span>

<span class="cm">(* Get the current user *)</span>
<span class="kr">val</span> <span class="nv">username</span> <span class="p">=</span> <span class="nn">AppState</span><span class="p">.</span><span class="n">getCurrentUser</span> <span class="p">()</span>

<span class="cm">(* Log the user out *)</span>
<span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">AppState</span><span class="p">.</span><span class="n">clearCurrentUser</span> <span class="p">()</span>
</pre></div>
</div>
<p>Key Features:</p>
<ul class="simple">
<li><p><strong>Authentication State Management</strong>: Tracks the currently logged-in user</p></li>
<li><p><strong>Functional References</strong>: Uses SML’s reference cells to maintain state in a controlled manner</p></li>
<li><p><strong>Pattern Matching</strong>: Leverages SML’s strong type system to ensure state consistency</p></li>
<li><p><strong>Simple API</strong>: Provides clear, focused functions for state manipulation and queries</p></li>
</ul>
</section>
<section id="menu-navigation-system">
<h2>Menu Navigation System<a class="headerlink" href="#menu-navigation-system" title="Link to this heading">¶</a></h2>
<p>The menu navigation system provides a consistent navigation experience across different pages in the ERP application.</p>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Creates menu bar *)</span>
 <span class="kr">fun</span> <span class="nf">createMenuBar</span> <span class="p">(</span><span class="n">stack</span> <span class="p">:</span> <span class="nn">Gtk</span><span class="p">.</span><span class="nn">Stack</span><span class="p">.</span><span class="n">t</span><span class="p">,</span> <span class="n">items</span> <span class="p">:</span> <span class="p">(</span><span class="n">string</span> <span class="n">*</span> <span class="n">string</span><span class="p">)</span> <span class="n">list</span><span class="p">)</span> <span class="p">=</span>
   <span class="kr">let</span>
     <span class="kr">val</span> <span class="nv">menuBarBox</span> <span class="p">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">new</span> <span class="p">(</span><span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span><span class="p">,</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">small</span><span class="p">)</span>
     <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Container</span><span class="p">.</span><span class="n">setBorderWidth</span> <span class="n">menuBarBox</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">xsmall</span>

     <span class="kr">fun</span> <span class="nf">createMenuButton</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">pageName</span><span class="p">)</span> <span class="p">=</span>
       <span class="kr">let</span>
         <span class="kr">val</span> <span class="nv">button</span> <span class="p">=</span> <span class="nn">Button</span><span class="p">.</span><span class="n">newWithLabel</span> <span class="n">label</span>
         <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Button</span><span class="p">.</span><span class="n">setRelief</span> <span class="n">button</span> <span class="nn">ReliefStyle</span><span class="p">.</span><span class="n">NONE</span>
         <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginStart</span> <span class="n">button</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">small</span>
         <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginEnd</span> <span class="n">button</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">small</span>

         <span class="kr">val</span> <span class="p">_</span> <span class="p">=</span> <span class="nn">Signal</span><span class="p">.</span><span class="n">connect</span> <span class="n">button</span> <span class="p">(</span><span class="nn">Button</span><span class="p">.</span><span class="n">clickedSig</span><span class="p">,</span> <span class="kr">fn</span> <span class="p">_</span> <span class="p">=&gt;</span>
           <span class="kr">let</span>
             <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="n">print</span> <span class="p">(</span><span class="s2">&quot;Navigating to &quot;</span> <span class="n">^</span> <span class="n">pageName</span> <span class="n">^</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
             <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Stack</span><span class="p">.</span><span class="n">setVisibleChildName</span> <span class="n">stack</span> <span class="n">pageName</span>
           <span class="kr">in</span>
             <span class="p">()</span>
           <span class="kr">end</span><span class="p">)</span>
       <span class="kr">in</span>
         <span class="n">button</span>
       <span class="kr">end</span>

     <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">app</span> <span class="p">(</span><span class="kr">fn</span> <span class="n">item</span> <span class="p">=&gt;</span>
       <span class="kr">let</span>
         <span class="kr">val</span> <span class="nv">button</span> <span class="p">=</span> <span class="n">createMenuButton</span> <span class="n">item</span>
       <span class="kr">in</span>
         <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">menuBarBox</span> <span class="p">(</span><span class="n">button</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
       <span class="kr">end</span><span class="p">)</span> <span class="n">items</span>
   <span class="kr">in</span>
     <span class="n">menuBarBox</span>
   <span class="kr">end</span>
</pre></div>
</div>
<div class="highlight-sml notranslate"><div class="highlight"><pre><span></span><span class="cm">(* Usage Examples *)</span>
<span class="cm">(* Create and add menu bar if page specif menuItems are provided *)</span>
<span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="kr">case</span> <span class="n">menuItems</span> <span class="kr">of</span>
    <span class="n">NONE</span> <span class="p">=&gt;</span> <span class="p">()</span>
  <span class="n">|</span> <span class="n">SOME</span> <span class="n">items</span> <span class="p">=&gt;</span>
      <span class="kr">let</span>
        <span class="kr">val</span> <span class="nv">menuBarWidget</span> <span class="p">=</span> <span class="n">createMenuBar</span> <span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
        <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">mainBox</span> <span class="p">(</span><span class="n">menuBarWidget</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="kr">val</span> <span class="nv">separator</span> <span class="p">=</span> <span class="nn">Separator</span><span class="p">.</span><span class="n">new</span> <span class="nn">Orientation</span><span class="p">.</span><span class="n">HORIZONTAL</span>
        <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginTop</span> <span class="n">separator</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">xsmall</span>
        <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Widget</span><span class="p">.</span><span class="n">setMarginBottom</span> <span class="n">separator</span> <span class="nn">SpacingScale</span><span class="p">.</span><span class="n">xsmall</span>
        <span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">mainBox</span> <span class="p">(</span><span class="n">separator</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
      <span class="kr">in</span>
        <span class="p">()</span>
      <span class="kr">end</span>

<span class="cm">(* Create a page with no menu bar *)</span>
<span class="kr">structure</span> <span class="nn">LoginPageBase</span> <span class="p">=</span> <span class="n">BasePage</span><span class="p">(</span><span class="kr">struct</span> <span class="kr">val</span> <span class="nv">title</span> <span class="p">=</span> <span class="s2">&quot;Login&quot;</span> <span class="kr">val</span> <span class="nv">menuItems</span> <span class="p">=</span> <span class="n">NONE</span> <span class="kr">end</span><span class="p">)</span>

<span class="cm">(* Create a page with predefined menu bar *)</span>
<span class="kr">val</span> <span class="p">(</span><span class="n">basePage</span><span class="p">,</span> <span class="n">contentBox</span><span class="p">)</span> <span class="nv">=</span> <span class="nn">DashboardBase</span><span class="p">.</span><span class="n">create</span><span class="p">{</span><span class="n">stack</span> <span class="p">=</span> <span class="n">stack</span><span class="p">,</span> <span class="n">menuItems</span> <span class="p">=</span> <span class="n">menuItems</span><span class="p">}</span>

<span class="cm">(* Add content to the content box *)</span>
<span class="kr">val</span> <span class="p">()</span> <span class="nv">=</span> <span class="nn">Box</span><span class="p">.</span><span class="n">packStart</span> <span class="n">contentBox</span> <span class="p">(</span><span class="n">loginForm</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="functional-approach-to-layout">
<h2>Functional Approach to Layout<a class="headerlink" href="#functional-approach-to-layout" title="Link to this heading">¶</a></h2>
<p>The layout components demonstrate several key functional programming concepts:</p>
<ol class="arabic simple">
<li><p><strong>Immutability</strong>: All widget creation is handled through pure functions that don’t modify external state</p></li>
<li><p><strong>Composition</strong>: Complex layouts are built by composing simpler components</p></li>
<li><p><strong>Separation of Concerns</strong>: Each component focuses on a single responsibility</p></li>
<li><p><strong>Higher-Order Functions</strong>: Event handling uses functions as first-class values</p></li>
<li><p><strong>Referential Transparency</strong>: Given the same inputs, components consistently produce the same outputs</p></li>
</ol>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading">¶</a></h2>
<p>When working with layout components:</p>
<ol class="arabic simple">
<li><p><strong>Compose Don’t Inherit</strong>: Build complex layouts by composing simple components, not through inheritance</p></li>
<li><p><strong>Respect Immutability</strong>: Don’t attempt to modify components after creation; create new ones instead</p></li>
<li><p><strong>Use Consistent Patterns</strong>: Follow the established patterns for component creation and configuration</p></li>
<li><p><strong>Leverage the Type System</strong>: Use SML’s type system to catch errors at compile time</p></li>
</ol>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">SML Dissertation Project</a></h1>








<div class="sphinxsidebarwrapper">
    <h3>On this page</h3>
    <ul>
<li><a class="reference internal" href="#">Layout Components</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#header-component">Header Component</a></li>
<li><a class="reference internal" href="#footer-component">Footer Component</a></li>
<li><a class="reference internal" href="#error-dialog">Error Dialog</a></li>
<li><a class="reference internal" href="#button-action-row">Button Action Row</a></li>
<li><a class="reference internal" href="#application-state">Application State</a></li>
<li><a class="reference internal" href="#menu-navigation-system">Menu Navigation System</a></li>
<li><a class="reference internal" href="#functional-approach-to-layout">Functional Approach to Layout</a></li>
<li><a class="reference internal" href="#best-practices">Best Practices</a></li>
</ul>
</li>
</ul>

  <h3>Navigation</h3>
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
  <ul>
    <li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
    <li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
    <li class="toctree-l1"><a class="reference internal" href="usage.html">Usage Guide</a></li>
  </ul>
  <p class="caption" role="heading"><span class="caption-text">Library Components</span></p>
  <ul>
    <li class="toctree-l1"><a class="reference internal" href="tokens.html">Design Tokens</a></li>
    <li class="toctree-l1"><a class="reference internal" href="#">Layout Components</a></li>
    <li class="toctree-l1"><a class="reference internal" href="dashboard_components.html">Dashboard Components</a></li>
    <li class="toctree-l1"><a class="reference internal" href="pages.html">Pages</a></li>
    <li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
  </ul>
  <ul>
    <li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
  </ul>
</div><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tokens.html" title="previous chapter">Design Tokens</a></li>
      <li>Next: <a href="dashboard_components.html" title="next chapter">Dashboard Components</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/layout_components.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>